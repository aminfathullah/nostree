---
/**
 * SocialIcons Component
 * Displays social media icons as links
 */

import {
  Twitter,
  Instagram,
  Youtube,
  Github,
  Linkedin,
  Globe,
  MessageCircle,
  Twitch,
  Music,
  BookOpen,
} from "lucide-react";
import type { Social, Platform } from "../../schemas/nostr";

interface Props {
  socials: Social[];
}

const { socials } = Astro.props;

// Map platform to icon and label
const platformConfig: Record<
  Platform,
  {
    icon: typeof Twitter;
    label: string;
    color: string;
  }
> = {
  twitter: { icon: Twitter, label: "Twitter / X", color: "#1DA1F2" },
  instagram: { icon: Instagram, label: "Instagram", color: "#E4405F" },
  youtube: { icon: Youtube, label: "YouTube", color: "#FF0000" },
  github: { icon: Github, label: "GitHub", color: "#ffffff" },
  linkedin: { icon: Linkedin, label: "LinkedIn", color: "#0A66C2" },
  tiktok: { icon: Music, label: "TikTok", color: "#000000" },
  twitch: { icon: Twitch, label: "Twitch", color: "#9146FF" },
  nostr: { icon: MessageCircle, label: "Nostr", color: "#8B5CF6" },
  website: { icon: Globe, label: "Website", color: "#ffffff" },
  telegram: { icon: MessageCircle, label: "Telegram", color: "#0088CC" },
  discord: { icon: MessageCircle, label: "Discord", color: "#5865F2" },
  facebook: { icon: Globe, label: "Facebook", color: "#1877F2" },
  spotify: { icon: Music, label: "Spotify", color: "#1DB954" },
  soundcloud: { icon: Music, label: "SoundCloud", color: "#FF3300" },
  medium: { icon: BookOpen, label: "Medium", color: "#000000" },
  substack: { icon: BookOpen, label: "Substack", color: "#FF6719" },
};
---

{
  socials.length > 0 && (
    <nav class="flex justify-center gap-4 mt-8" aria-label="Social links">
      {socials.map((social) => {
        const config = platformConfig[social.platform];
        if (!config) return null;

        const IconComponent = config.icon;

        return (
          <a
            href={social.url}
            target="_blank"
            rel="noopener noreferrer nofollow"
            class="social-icon p-2 rounded-full bg-card border border-border hover:border-border-hover hover:bg-card-hover transition-all duration-200 hover:scale-110"
            title={config.label}
            aria-label={`Visit ${config.label}`}
          >
            <IconComponent className="w-5 h-5 text-txt-muted hover:text-txt-main transition-colors" />
          </a>
        );
      })}
    </nav>
  )
}

<style>
  .social-icon:hover {
    box-shadow: 0 0 12px rgba(139, 92, 246, 0.2);
  }
</style>
